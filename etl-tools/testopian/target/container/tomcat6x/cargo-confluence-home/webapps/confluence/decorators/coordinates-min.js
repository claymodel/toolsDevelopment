var Coordinates={ORIGIN:new Coordinate(0,0),northwestPosition:function(b){var a=parseInt(b.style.left);var c=parseInt(b.style.top);return new Coordinate(isNaN(a)?0:a,isNaN(c)?0:c)},southeastPosition:function(a){return Coordinates.northwestPosition(a).plus(new Coordinate(a.offsetWidth,a.offsetHeight))},northwestOffset:function(a,c){var d=new Coordinate(a.offsetLeft,a.offsetTop);if(!c){return d}var b=a.offsetParent;while(b){d=d.plus(new Coordinate(b.offsetLeft,b.offsetTop));b=b.offsetParent}return d},southeastOffset:function(a,b){return Coordinates.northwestOffset(a,b).plus(new Coordinate(a.offsetWidth,a.offsetHeight))},fixEvent:function(a){a.windowCoordinate=new Coordinate(a.clientX,a.clientY)}};function Coordinate(a,b){this.x=a;this.y=b}Coordinate.prototype.toString=function(){return"("+this.x+","+this.y+")"};Coordinate.prototype.plus=function(a){return new Coordinate(this.x+a.x,this.y+a.y)};Coordinate.prototype.minus=function(a){return new Coordinate(this.x-a.x,this.y-a.y)};Coordinate.prototype.distance=function(c){var b=this.x-c.x;var a=this.y-c.y;return Math.sqrt(Math.pow(b,2)+Math.pow(a,2))};Coordinate.prototype.max=function(b){var a=Math.max(this.x,b.x);var c=Math.max(this.y,b.y);return new Coordinate(a,c)};Coordinate.prototype.constrain=function(c,b){if(c.x>b.x||c.y>b.y){return this}var a=this.x;var d=this.y;if(c.x!=null){a=Math.max(a,c.x)}if(b.x!=null){a=Math.min(a,b.x)}if(c.y!=null){d=Math.max(d,c.y)}if(b.y!=null){d=Math.min(d,b.y)}return new Coordinate(a,d)};Coordinate.prototype.reposition=function(a){a.style.top=this.y+"px";a.style.left=this.x+"px"};Coordinate.prototype.equals=function(a){if(this==a){return true}if(!a||a==null){return false}return this.x==a.x&&this.y==a.y};