(function(){var b=window.AJS||{};function c(){this.node=b("ol").addClass("aui-items-list").hide()}function a(){this.node=b("ol").addClass("aui-items-list").hide()}c.prototype.beforeAdd=a.prototype.beforeAdd=function(){return true};c.prototype.onAdd=a.prototype.onAdd=function(){};c.prototype.beforeRemove=a.prototype.beforeRemove=function(){return true};c.prototype.onRemove=a.prototype.onRemove=function(){};c.prototype.add=function(i,e){var h=this;e=e||i;this.items=this.items||[];this.values=this.values||{};if(!(i in this.values)&&this.beforeAdd.call({value:i,name:e})){this.items.push(i);this.values[i]={name:e,id:this.items.length-1,remove:function(j){h.items.splice(h.values[i].id,1);delete h.values[i];h.onRemove.call({value:i});if(j===true){d.remove()}else{d.slideUp("fast",function(){d.remove()})}if(!h.length){h.node.hide()}}};var d=b("li"),g=b("span",e),f=b("button","x").click(this.values[i].remove);d.append(g).append(f);this.node.append(d);this.onAdd.call({li:d,span:g,button:f,value:i,name:e,remove:h.values[i].remove});if(h.length){h.node.show()}return true}else{return false}};a.prototype.add=function(i,e){var h=this;e=e||i;this.items=this.items||[];this.values=this.values||[];if(this.beforeAdd.call({value:i,name:e})){this.items.push(i);this.values.push({name:e,value:i,remove:(function(j){return function(k){h.items.splice(j,1);h.values.splice(j,1);h.onRemove.call({value:i});if(k===true){d.remove()}else{d.slideUp("fast",function(){d.remove()})}if(!h.length){h.node.hide()}}})(this.items.length-1)});var d=b("li"),g=b("span",e),f=b("button","x").click(this.values[this.values.length-1].remove);d.append(g).append(f);this.node.append(d);this.onAdd.call({li:d,span:g,button:f,value:i,name:e,remove:h.values[h.values.length-1].remove});if(h.length){h.node.show()}return true}return false};a.prototype.remove=function(f,d){if(this.beforeRemove.call({value:f})){var e=this.values[b.$.inArray(f,this.items)];e&&e.remove(d);return !!e}return false};c.prototype.remove=function(e,d){if(this.beforeRemove.call({value:e})){this.values[e]&&this.values[e].remove(d);return !!this.values[e]}return false};a.prototype.clear=function(){for(var d=0,e=this.items.length;d<e;d++){this.remove(this.items[d],true)}};c.prototype.clear=function(){for(var d in this.values){this.remove(d,true)}};a.prototype.length=c.prototype.length=function(){return this.items.length};c.prototype.contains=function(d){return(d in this.values)};a.prototype.contains=function(d){return !!(b.$.inArray(d,this.items)+1)};c.prototype.get=a.prototype.get=function(){return this.items.concat([])};b.itemsList=function(d){return new (d?a:c)()}})();